<div class="min-h-screen bg-gray-50 py-8 px-4">
    <div class="max-w-5xl mx-auto">
  
      <!-- Header -->
      <div class="text-center mb-8">
        <h1 class="text-4xl font-bold text-gray-800">â­ Mes Favoris</h1>
        <p class="text-gray-500 mt-2">Retrouvez toutes les offres que vous avez sauvegardÃ©es</p>
      </div>
  
      <!-- Messages -->
      @if (success$ | async; as success) {
        <div class="mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg flex justify-between items-center">
          <span>âœ… {{ success }}</span>
          <button (click)="clearMessage()" class="font-bold">âœ•</button>
        </div>
      }
      @if (error$ | async; as error) {
        <div class="mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg flex justify-between items-center">
          <span>âŒ {{ error }}</span>
          <button (click)="clearMessage()" class="font-bold">âœ•</button>
        </div>
      }
  
      <!-- Loading -->
      @if (loading$ | async) {
        <div class="flex justify-center items-center py-20">
          <div class="animate-spin rounded-full h-16 w-16 border-4 border-yellow-200 border-t-yellow-500"></div>
        </div>
      }
  
      <!-- Favorites List -->
      @if (favorites$ | async; as favorites) {
        @if (favorites.length === 0) {
          <div class="text-center py-16 bg-white rounded-xl shadow-md">
            <p class="text-6xl mb-4">â­</p>
            <h3 class="text-xl font-semibold text-gray-700">Aucun favori</h3>
            <p class="text-gray-500 mt-2">Ajoutez des offres depuis la page de recherche.</p>
            <a routerLink="/search" class="inline-block mt-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg transition">
              ğŸ” Rechercher des offres
            </a>
          </div>
        } @else {
          <p class="text-gray-600 mb-4">
            <span class="font-semibold">{{ favorites.length }}</span> offre(s) sauvegardÃ©e(s)
          </p>
  
          <div class="space-y-4">
            @for (fav of favorites; track fav.id) {
              <div class="bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6 border-l-4 border-yellow-400">
                <div class="flex justify-between items-start">
                  <div class="flex-1">
                    <h3 class="text-lg font-bold text-gray-800">{{ fav.title }}</h3>
                    <p class="text-blue-600 font-medium mt-1">ğŸ¢ {{ fav.company }}</p>
  
                    <div class="flex flex-wrap gap-3 text-sm text-gray-500 mt-2">
                      <span>ğŸ“ {{ fav.location }}</span>
                      <span>ğŸ“… {{ fav.date | date:'dd/MM/yyyy' }}</span>
                      <span>ğŸ’° {{ fav.salary }}</span>
                    </div>
  
                    <p class="text-gray-600 text-sm mt-2">{{ truncateDescription(fav.description) }}</p>
  
                    <p class="text-xs text-gray-400 mt-2">AjoutÃ© le {{ fav.addedAt | date:'dd/MM/yyyy Ã  HH:mm' }}</p>
                  </div>
                </div>
  
                <div class="flex flex-wrap gap-2 mt-4 pt-3 border-t border-gray-100">
                  <a [href]="fav.url" target="_blank" rel="noopener noreferrer"
                     class="bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-lg transition">
                    ğŸ”— Voir l'offre
                  </a>
                  <button (click)="removeFavorite(fav)"
                          class="bg-red-500 hover:bg-red-600 text-white text-sm font-medium px-4 py-2 rounded-lg transition">
                    ğŸ—‘ï¸ Supprimer
                  </button>
                </div>
              </div>
            }
          </div>
        }
      }
  
    </div>
  </div><!-- Ajustement de l'affichage -->
<!-- AmÃ©lioration UX -->
<!-- Optimisation du rendu -->
<!-- Ajustement de l'affichage -->
<!-- Mise Ã  jour du layout -->
<!-- Ajustement de l'affichage -->
