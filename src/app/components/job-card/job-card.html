<div class="bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100"
     [class.border-yellow-400]="isFavorite"
     [class.border-2]="isFavorite">

  <!-- Favorite badge -->
  @if (isFavorite) {
    <span class="inline-block bg-yellow-100 text-yellow-700 text-xs font-semibold px-2 py-1 rounded-full mb-3">
      â­ Dans vos favoris
    </span>
  }

  <!-- Header -->
  <div class="flex justify-between items-start mb-3">
    <div class="flex-1">
      <h3 class="text-lg font-bold text-gray-800 hover:text-blue-600 transition">
        {{ job.title }}
      </h3>
      <p class="text-blue-600 font-medium mt-1">ğŸ¢ {{ job.company }}</p>
    </div>
    <span class="bg-blue-100 text-blue-700 text-xs font-semibold px-3 py-1 rounded-full whitespace-nowrap ml-3">
      ğŸ’° {{ job.salary }}
    </span>
  </div>

  <!-- Info -->
  <div class="flex flex-wrap gap-3 text-sm text-gray-500 mb-3">
    <span>ğŸ“ {{ job.location }}</span>
    <span>ğŸ“… {{ job.date | date:'dd/MM/yyyy' }}</span>
  </div>

  <!-- Description -->
  <p class="text-gray-600 text-sm leading-relaxed mb-4">
    {{ truncateDescription(job.description) }}
  </p>

  <!-- Actions -->
  <div class="flex flex-wrap gap-2 pt-3 border-t border-gray-100">
    <a [href]="job.url" target="_blank" rel="noopener noreferrer"
       class="bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-lg transition">
      ğŸ”— Voir l'offre
    </a>

    @if (isLoggedIn) {
      <button (click)="onAddFavorite()"
              [disabled]="isFavorite"
              [class]="isFavorite
                ? 'bg-yellow-200 text-yellow-700 text-sm font-medium px-4 py-2 rounded-lg cursor-not-allowed'
                : 'bg-yellow-400 hover:bg-yellow-500 text-gray-800 text-sm font-medium px-4 py-2 rounded-lg transition'">
        {{ isFavorite ? 'â­ DÃ©jÃ  en favoris' : 'â­ Favoris' }}
      </button>
      <button (click)="onAddApplication()"
              class="bg-green-500 hover:bg-green-600 text-white text-sm font-medium px-4 py-2 rounded-lg transition">
        ğŸ“‹ Suivre candidature
      </button>
    }
  </div>
</div><!-- Refactoring pour clartÃ© -->
<!-- Nettoyage du template -->
<!-- AmÃ©lioration du template -->
<!-- Nettoyage du template -->
